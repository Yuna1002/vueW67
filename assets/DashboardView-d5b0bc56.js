import{_ as p,r as l,o as i,c as v,b as e,d as o,w as n,j as k,k as m,g as b,e as c}from"./index-ce484b6b.js";const{VITE_APP_URL:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"yuna1002",BASE_URL:"/vueW67/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g={data(){return{successCheck:!1}},methods:{checkAccount(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)yunaToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t?(this.$http.defaults.headers.common.Authorization=t,this.$http.post(`${u}/api/user/check`).then(()=>{this.successCheck=!0}).catch(a=>{alert(a.response.data.message),this.$router.push("/login")})):(alert("請先登入"),this.$router.push("/login"))},logout(){document.cookie="yunaToken=;expires=;",this.$http.post(`${u}/logout`).then(t=>{alert(t.data.message),this.$router.push("/")})}},mounted(){this.checkAccount()}},f={class:"container"},$={class:"navbar navbar-expand-lg bg-body-tertiary"},A={class:"container-fluid"},V=e("span",{class:"navbar-brand text-primary"},"後台",-1),x=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),R={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},y={class:"navbar-nav me-auto"},P={class:"navbar-nav"},T=e("hr",null,null,-1);function C(t,a,E,N,d,r){const s=l("RouterLink"),h=l("RouterView");return i(),v("div",f,[e("nav",$,[e("div",A,[V,x,e("div",R,[e("div",y,[o(s,{to:"/admin/products",class:"nav-link"},{default:n(()=>[c("產品列表")]),_:1}),o(s,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[c("訂單列表")]),_:1}),o(s,{to:"/admin/coupon",class:"nav-link"},{default:n(()=>[c("優惠券")]),_:1})]),e("div",P,[o(s,{to:"/",class:"nav-link"},{default:n(()=>[c("前往前台")]),_:1}),e("a",{href:"",class:"nav-link",onClick:a[0]||(a[0]=k((..._)=>r.logout&&r.logout(..._),["prevent"]))},"登出")])])])]),T,d.successCheck?(i(),m(h,{key:0})):b("",!0)])}const B=p(g,[["render",C]]);export{B as default};
